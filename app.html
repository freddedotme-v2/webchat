<html>
    <input id="name" type="text"/>
    <input id="body" type="text"/>
    <button onclick="send()">Send</button>
    <pre id="output"></pre>
    <script>
        var output = document.getElementById("output");
        var socket = new WebSocket("ws://localhost:8080/listen");

        socket.onopen = function () {
            output.innerHTML += "Status: Connected\n";
        };

        socket.onmessage = function (e) {
            output.innerHTML += e.data + "\n";
        };

        function send() {
            var name = document.getElementById("name");
            var body = document.getElementById("body");

            if (name.value && body.value){
                socket.send(JSON.stringify({name: name.value, body: body.value}));
                body.value = "";
            }
        }
    </script>
</html>